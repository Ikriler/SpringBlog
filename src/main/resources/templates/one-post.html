<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/bootstrap/bootstrap.css}">
</head>
<body>
<a href="/">На главную</a>
<div th:if="${allowEdit}">
    <form th:action="@{/post/page-edit}" method="post">
        <input type="hidden" th:value="${post.id}" name="id">
        <input value="Редактировать" type="submit">
    </form>
</div>
<div th:if="${allowDelete}">
    <form th:action="@{/post/delete}" method="post">
        <input type="hidden" th:value="${post.id}" name="id">
        <input value="Удалить" type="submit">
    </form>
</div>
<h2 th:text="${post.title}"></h2>
<p th:text="${post.full_text}"></p>

<form>
    <p>Написать комментарий</p>
    <input type="hidden" th:value="${post.id}" name="post_id">
    <textarea name="text">

    </textarea><br>
    <input type="submit" formaction="/create-comment" formmethod="post">
</form>
<br>
<form th:action="@{/list}">
    <input type="hidden" name="id" th:value="${post.id}">
    <input placeholder="Текст" name="text">
    <label>точный поиск</label><input type="checkbox" name="accurate">
    <input value="Поиск" formmethod="get" type="submit">
</form>
<div th:each="comment : ${comments}">
    <p th:text="${comment.text}"></p>
    <span th:text="${comment.dateTime}"></span>
    <div th:if="${currentUser.id} == ${comment.user.id}">
        <form action="comment/delete" method="post">
            <input type="hidden" name="comment_id" th:value="${comment.id}">
            <input type="hidden" name="post_id" th:value="${post.id}">
            <input value="Удалить" type="submit">
        </form>
        <form action="/comment/page-edit" method="post">
            <input type="hidden" name="comment_id" th:value="${comment.id}">
            <input value="Редактировать" type="submit">
        </form>
    </div>
    <hr/>
</div>
<script th:src="@{/bootstrap/bootstrap.js}"></script>
</body>
</html>